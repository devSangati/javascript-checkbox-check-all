<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
      integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
      crossorigin="anonymous"
    />
    <title>javascript/jquery toggle checkbox - dev.sangati.in</title>
  </head>
  <body>
    <!-- html -->
    <div class="container">
      <div class="row">
        <div class="col-12 my-3"><h3>Candidate List</h3></div>
        <div class="col-12">
          <table class="table table-bordered table-striped table-hover">
            <thead>
              <tr>
                <th>
                  <input
                    type="checkbox"
                    class="main-checkbox"
                    onclick="onParentClick(this)"
                  />
                </th>
                <th>Name</th>
                <th>Email</th>
                <th>Detail</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>
                  <input type="checkbox" data-id="1" class="child-checkbox" />
                </td>
                <td>Candidate Name 1</td>
                <td>candidate1@gmail.com</td>
                <td><a href="#">View Detail</a></td>
              </tr>
              <tr>
                <td>
                  <input type="checkbox" data-id="2" class="child-checkbox" />
                </td>
                <td>Candidate Name 2</td>
                <td>candidate2@gmail.com</td>
                <td><a href="#">View Detail</a></td>
              </tr>
              <tr>
                <td>
                  <input type="checkbox" data-id="3" class="child-checkbox" />
                </td>
                <td>Candidate Name 3</td>
                <td>candidate3@gmail.com</td>
                <td><a href="#">View Detail</a></td>
              </tr>
            </tbody>
          </table>
        </div>
        <div class="col-12">
          <button class="btn btn-primary" onclick="onSubmit()">Submit</button>
        </div>
      </div>
    </div>
    <!-- html -->

    <script type="text/javascript">
      // method 1
      //   function onParentClick(e) {
      //     const checked = e.checked;
      //     const children = document.getElementsByClassName("child-checkbox");

      //     if (checked) {
      //       for (let i = 0; i < children.length; i++) {
      //         children[i].checked = true;
      //       }
      //     } else {
      //       for (let i = 0; i < children.length; i++) {
      //         children[i].checked = false;
      //       }
      //     }
      //   }

      // method 2
      function onParentClick(e) {
        const checked = e.checked;
        const children = document.getElementsByClassName("child-checkbox");

        for (let i = 0; i < children.length; i++) {
          children[i].checked = checked;
        }
      }

      function onSubmit() {
        const children = document.getElementsByClassName("child-checkbox");
        const ids = [];
        for (let i = 0; i < children.length; i++) {
          if (children[i].checked) {
            const id = parseInt(children[i].getAttribute("data-id"));
            ids.push(id);
          }
        }
        console.log(ids);
      }
    </script>

    <script
      src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
      integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-Piv4xVNRyMGpqkS2by6br4gNJ7DXjqk09RmUpJ8jgGtD7zP9yug3goQfGII0yAns"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
